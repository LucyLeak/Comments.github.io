<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Lucy's Comment Section</title>
    <style>
      html, body {
        font-size: 1rem;
        font-family: 'Open Sans', sans-serif;
        word-wrap: break-word;
        background: url('https://ella.janitorai.com/background-image/LSPiYXHPGNebyLBcJQXwB.webp');
        color: #e2e2e2;
        padding: 2em;
      }
      .PageModule {
        margin: 1em 0;
        padding: 2em;
        background: rgba(0, 0, 0, 0.4);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
      }
      .PageModule>h2 {
        font-size: 1.25rem;
        margin-bottom: .5em;
      }
      label {
        display: block;
        margin-top: 1em;
        font-weight: bold;
      }
      input, textarea {
        width: 100%;
        padding: .5em;
        margin-top: .25em;
        border-radius: 5px;
        resize: vertical;
        border: none;
        background: #222;
        color: #fff;
      }
      button {
        margin-top: 1em;
        padding: .5em 1em;
        border: none;
        border-radius: 5px;
        background: #53b14f;
        color: #fff;
        cursor: pointer;
      }
      .comment {
        background: rgba(255, 255, 255, 0.05);
        padding: .75em;
        margin-top: 2em;
        border-radius: 5px;
      }
      .comment strong {
        color: #ffffff;
      }
    </style>
  </head>
  <body>
    <div id="Title">
      <h1>Leave your comment here üí¨</h1>
      <span>Hi, I'm Lucy. This comment section was created for feedback. Please be respectful and follow the site guidelines.</span>
    </div>

    <div id="CoreModules">
      <div id="InputModule" class="PageModule StrangeBerryModule">
        <form id="CommentyModule">
          <label>Your name</label>
          <input type="text" id="name" required>

          <label>Comment</label>
          <textarea id="comment" rows="2" required></textarea>
          <button type="submit">Add comment</button>
        </form>
      </div>

      <div id="CommentModule" class="PageModule StrangeBerryModule">
        <h2>Recent Comments</h2>
        <section class="Comments"></section>
      </div>
    </div>

    <script>
      const form = document.getElementById('CommentyModule');
      const nameInput = document.getElementById('name');
      const commentInput = document.getElementById('comment');
      const commentsSection = document.querySelector('.Comments');

      // Carrega coment√°rios do localStorage
      function loadComments() {
        const comments = JSON.parse(localStorage.getItem('lucyComments') || '[]');
        commentsSection.innerHTML = '';

        comments.forEach((entry, index) => {
          const div = document.createElement('div');
          div.className = 'comment';
          div.innerHTML = `
            <strong>${entry.name}:</strong><br>${entry.comment}
            <br><button class="delete-button" data-index="${index}">üóëÔ∏è Delete</button>
          `;
          commentsSection.appendChild(div);
        });

        // Adiciona os listeners para cada bot√£o de deletar
        document.querySelectorAll('.delete-button').forEach(button => {
          button.addEventListener('click', function () {
            const index = this.getAttribute('data-index');
            deleteComment(index);
          });
        });
      }

      // Deleta coment√°rio com base no √≠ndice
      function deleteComment(index) {
        const comments = JSON.parse(localStorage.getItem('lucyComments') || '[]');
        comments.splice(index, 1);
        localStorage.setItem('lucyComments', JSON.stringify(comments));
        loadComments();
      }

      // Adiciona novo coment√°rio
      form.addEventListener('submit', function (e) {
        e.preventDefault();
        const name = nameInput.value.trim();
        const comment = commentInput.value.trim();
        if (!name || !comment) return;

        const comments = JSON.parse(localStorage.getItem('lucyComments') || '[]');
        comments.unshift({ name, comment });
        localStorage.setItem('lucyComments', JSON.stringify(comments));

        nameInput.value = '';
        commentInput.value = '';
        loadComments();
      });

      loadComments();
    </script>
  </body>
</html>
